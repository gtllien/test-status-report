---
layout: default

---

<!DOCTYPE html>
<html lang="en-us">

<bodyitemscope="" itemtype="https://schema.org/WebPage">

    <nav class="navbar">
        <div class="container">
            <div class="navbar-brand">
                <a class="navbar-item" href="https://www.zesty.io">
                    <img class="zesty-white-logo" src="https://brand.zesty.io/zesty-io-logo-horizontal.png"
                        alt="Logo">
                </a>
                <!-- 
                    <span class="navbar-burger burger" data-target="navbarMenu">
                    <span></span>
                    <span></span>
                    <span></span>
                </span>
                -->
            </div>
            <div id="navbarMenu" class="navbar-menu">
                <div class="navbar-start">

                    <a class="navbar-item" href="javascript:window.location.href"
                        style="border-left: 1px rgba(255,255,255,0.2) solid; padding-left: 15px; ">
                        <span class="fa fa-thermometer"></span> &nbsp; Platform Status
                    </a>

                    <span class="navbar-item is-zesty-user is-hidden">
                        <a class="button is-outlined open-zesty-button" href="https://accounts.zesty.io">

                            <small title="Open Accounts" class="has-text-normal">Open Accounts</small>
                        </a>
                    </span>

                </div>
                <div class="navbar-end">

                    <span class="navbar-item not-zesty-user">
                        <a class="button is-outlined" href="https://www.zesty.io/login/">
                            <span class="icon">
                                <i class="fa fa-sign-in"></i>
                            </span>
                            <small title="Login to Zesty.io" class="has-text-normal">Sign In</small>
                        </a>
                    </span>
                    <span class="navbar-item not-zesty-user">
                        <a class="button is-primary " data-area="header" href="https://www.zesty.io/login/">
                            <span class="icon">
                                <i class="fa fa-user-plus"></i>
                            </span>
                            <span title="Create Account">Create Account</span>
                        </a>
                    </span>

                </div>
            </div>
        </div>
    </nav>

    <div class="container">

        <div class="columns is-multiline">

            <div class="column is-one-half">
                <div class="card">
                    <header class="card-header">
                        <p class="card-header-title">
                            Application Programming Interfaces (APIs)
                        </p>

                    </header>
                    <div class="card-content">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th><abbr title="Service Name">Service</abbr></th>
                                    <th>Status</th>
                                    <th><abbr title="Server Response Time">Response</abbr></th>
                                    <th>Description</th>
                                </tr>
                            </thead>
                            <tbody id="apiServices">

                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="column is-one-half">
                <div class="card">
                    <header class="card-header">
                        <p class="card-header-title">
                            User Interfaces and Rendering Services
                        </p>

                    </header>
                    <div class="card-content">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th><abbr title="Service Name">Service</abbr></th>
                                    <th>Status</th>
                                    <th><abbr title="Server Response Time">Response</abbr></th>
                                    <th>Description</th>
                                </tr>
                            </thead>
                            <tbody id="uiServices">

                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div id="planned" class="columns is-mobile is-multiline" style="display: none;">

            <div class="column is-one-half">
                <div class="card">
                    <header class="card-header">
                        <p class="card-header-title">
                            Planned Maintenance
                        </p>

                    </header>
                    <div class="card-content">
                        <div id="planned-details">

                        </div>
                    </div>
                </div>
            </div>
        </div>

<h1>Recorded Incident(s)</h1>

<ul class="post-list">
  {% for incident in site.incidents %}
    <li>
      <b><p class="post-meta">{{ incident.date | date: "%b %-d, %Y" }}</p></b>
      {{ incident.content }}
      <a href="{{ incident.url | relative_url }}">View report</a> <hr/>
    </li>
  {% endfor %}
</ul>

    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"
        integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

    <script type="text/javascript">
        let apiServices = [
            {
                'id': 'accounts-api',
                'name': 'Accounts API',
                'description': 'User Management, Instance Creation, Permissions, etc.',
                'health': 'https://accounts.api.zesty.io/'
            },
            {
                'id': 'instances-api',
                'name': 'Instances API',
                'description': 'Content Management, Web Engine File Editing, Publishing, etc.',
                'health': 'https://instances.api.zesty.io/'
            },
            {
                'id': 'media-api',
                'name': 'Media API',
                'description': 'Media File Management, Media Modification, Media URL Resolution, &amp;  Uploading.',
                'health': 'https://svc.zesty.io/media-manager-service/'
            },
            {
                'id': 'auth-api',
                'name': 'Auth API',
                'description': 'User login, User Authentication, &amp; Developer Tokens',
                'health': 'https://svc.zesty.io/auth/'
            },
        ]

        let uiServices = [
            {
                'id': 'accounts-ui',
                'name': 'Accounts UI',
                'description': 'User interface for account management',
                'health': 'https://accounts.zesty.io/login'
            },
            {
                'id': 'manager-ui',
                'name': 'Manager UI',
                'description': 'User interface for content management',
                'health': 'https://8-aaeffee09b-7w6v22.manager.zesty.io/'
            },
            {
                'id': 'web-engine',
                'name': 'Web Engine',
                'description': 'Renders Parsleys and HTML pages',
                'health': 'https://zdrflzfm-dev.webengine.zesty.io/__healthz__'
            }
        ]

        let apiTableBody = document.querySelector(`#apiServices`)
        let uiTableBody = document.querySelector(`#uiServices`)

        let totalServices = apiServices.length + uiServices.length
        let totalUpServices = 0
        let totalDownServices = 0

        // build ui for API table
        apiServices.map(svc => {
            apiTableBody.innerHTML += buildRow(svc)
        })
        // build ui for UI table
        uiServices.map(svc => {
            uiTableBody.innerHTML += buildRow(svc)
        })

        let servicesToTest = apiServices.concat(uiServices)
        // check health endpoints for api
        servicesToTest.map(async svc => {
            let startTime = (new Date()).getTime(), endTime;
            let row = document.querySelector(`#${svc.id}`)
            await fetch(svc.health, {
                method: 'GET',
                mode: 'no-cors'
            })
                .then(response => {
                    endTime = (new Date()).getTime();
                    document.querySelector(`#${svc.id} td i.status-checking`).classList.add('is-hidden')
                    document.querySelector(`#${svc.id} td i.status-success`).classList.remove('is-hidden')
                    document.querySelector(`#${svc.id} td.ms`).innerHTML = (endTime - startTime) + 'ms'
                    totalUpServices++
                })
                .catch(error => {
                    document.querySelector(`#${svc.id} td i.status-checking`).classList.add('is-hidden')
                    document.querySelector(`#${svc.id} td i.status-problem`).classList.remove('is-hidden')
                    document.querySelector(`#${svc.id} td.ms`).innerHTML = 'none'
                    totalDownServices++
                });
            if (servicesToTest.length == totalUpServices) {
                document.querySelector(`#zestyCheck`).classList.add('is-hidden')
                document.querySelector(`#zestyUp`).classList.remove('is-hidden')
            }
            if (totalDownServices > 0) {
                document.querySelector(`#zestyCheck`).classList.add('is-hidden')
                document.querySelector(`#zestyProblem`).classList.remove('is-hidden')
                document.querySelector(`#zestyUp`).classList.add('is-hidden')
            }
        })

        function buildRow(svc) {
            return `<tr id="${svc.id}">
                            <th class="name">${svc.name}</th>
                            <td class="status has-text-centered">
                                <i class="status-checking fa fa-refresh fa-spin fa-fw has-text-grey-light" aria-hidden="true"></i>
                                <i class="status-success fa fa-check has-text-success is-hidden" aria-hidden="true"></i>
                                <i class="status-problem fa fa-exclamation-circle has-text-warning is-hidden" aria-hidden="true"></i>
                                <span class="sr-only">Pinging ${svc.name} Service for Uptime...</span>
                            </td>
                            <td class="ms">?</td>
                            <td class="description">${svc.description}</td>
                        </tr>`
        }

    </script>

    </body>

</html>










